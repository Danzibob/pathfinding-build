(function(){"use strict";var t={8348:function(t,e,n){var r=n(9242),s=n(3396);function i(t,e,n,r,i,o){const a=(0,s.up)("CanvasComponent");return(0,s.wg)(),(0,s.j4)(a,{msg:"Welcome to Your Vue.js App"})}function o(t,e,n,r,i,o){return(0,s.wg)(),(0,s.iD)("div")}class a{constructor(t,e){this.x=t,this.y=e}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}dist(t){let e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}add(t){return new a(this.x+t.x,this.y+t.y)}sub(t){return new a(this.x-t.x,this.y-t.y)}set_mag(t){let e=this.mag();if(e>.001){let n=t/e;this.x*=n,this.y*=n}return this}}function l(t,e=1,n=10){let r=0,s=[];while(r<n){let n=new a(Math.random()*t,Math.random()*t);s.every((t=>t.dist(n)>e))?(s.push(n),r=0):r+=1}return s}class h{constructor(t){this.pos=t,this.vel=new a(0,0),this.target=void 0,this.battery=1e3,this.max_speed=2.5,this.plan=[],this.plan_batt=0}step(){if(this.target||this.set_target(),this.battery<=0)return!0;if(this.target){let t=this.target.sub(this.pos),e=t.mag();if(e<.1)return this.target=!1,this.set_target(),!0;e>this.max_speed&&t.set_mag(this.max_speed),this.vel=t}else this.vel=new a(0,0);return this.pos=this.pos.add(this.vel),this.battery-=this.vel.mag(),!0}set_target(){this.plan.length>0&&(this.target=this.plan.splice(0,1)[0].pos)}draw(t,e=!1){if(t.push(),t.fill(255),t.circle(this.pos.x,this.pos.y,10),this.target&&(t.stroke(255,0,0),t.noFill(),t.circle(this.target.x,this.target.y,10),t.stroke(100),t.line(this.target.x,this.target.y,this.pos.x,this.pos.y)),e){let e=this.battery/1e3;t.push(),t.translate(this.pos.x,this.pos.y),t.scale(1,-1),t.noFill(),t.stroke(200),t.rect(8,-5,5,20),t.fill(255*(1-e),255*e,0),t.noStroke(),t.rect(8,-5,5,20*e),t.pop()}t.pop()}}class p{constructor(t){this.pos=t,this.last_inspected=0,this.borked=Math.random(),this.plan=!1}global_score(){return this.hull?1:2}local_score(t){return t.sub(this.pos).mag()*this.global_score()}draw(t){t.fill(0),this.plan&&t.circle(this.pos.x,this.pos.y,10),t.stroke(this.plan?255:0),t.fill(255*this.global_score(),0,0),t.circle(this.pos.x,this.pos.y,5)}}function u(t){var e=t.map(((t,e)=>({x:t.pos.x,y:t.pos.y,idx:e})));return e.sort(f),c(e)}function c(t){if(t.length<=1)return t.slice();for(var e=[],n=0;n<t.length;n++){var r=t[n];while(e.length>=2){var s=e[e.length-1],i=e[e.length-2];if(!((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x)))break;e.pop()}e.push(r)}e.pop();var o=[];for(n=t.length-1;n>=0;n--){r=t[n];while(o.length>=2){s=o[o.length-1],i=o[o.length-2];if(!((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x)))break;o.pop()}o.push(r)}return o.pop(),1==e.length&&1==o.length&&e[0].x==o[0].x&&e[0].y==o[0].y?e:e.concat(o)}function f(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}const g=n(8851);var d={name:"CanvasComponent",props:{msg:String},data(){return{points:[]}},mounted(){window.cnv&&window.cnv.forEach((t=>t.remove())),window.cnv=[],window.cnv.push(y(g))}};function y(t){return new t((t=>{let e,n;t.setup=()=>{t.createCanvas(600,400),e=l(350,25,10).map((t=>new p(t))),n=[];for(let t=0;t<6;t++)n.push(new h(new a(100,100)));u(e).forEach((t=>e[t.idx].hull=!0)),v(new a(100,100),n,e)},t.draw=()=>{t.translate(125,25),t.background(51),t.fill(0);for(let n of e)n.draw(t);for(let e of n)e.step(),e.draw(t,!0)}}))}function v(t,e,n){let r=e.slice();for(let s=0;r.length>0;s=(s+1)%r.length){let e=r[s],i=e.plan.length>0?e.plan[e.plan.length-1].pos:t;console.log(i);let o=n.filter((t=>!t.plan&&0==t.last_inspected)).sort(((t,e)=>t.local_score(i)-e.local_score(i)));e.plan.push(o[0]),e.plan_batt+=i.sub(o[0].pos).mag(),e.plan_batt>500&&r.splice(s,1),o[0].plan=!0,console.log(`Selected turbine ${o[0]} for drone #${s}, ${(1e3-e.plan_batt)/10}% battery remains`),u(n.filter((t=>t.plan))).forEach((t=>n[t.idx].hull=!0))}}var x=n(89);const w=(0,x.Z)(d,[["render",o]]);var m=w,b={name:"App",components:{CanvasComponent:m}};const _=(0,x.Z)(b,[["render",i]]);var k=_;(0,r.ri)(k).mount("#app")}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,i){if(!r){var o=1/0;for(p=0;p<t.length;p++){r=t[p][0],s=t[p][1],i=t[p][2];for(var a=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(a=!1,i<o&&(o=i));if(a){t.splice(p--,1);var h=s();void 0!==h&&(e=h)}}return e}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[r,s,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,i,o=r[0],a=r[1],l=r[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)var p=l(n)}for(e&&e(r);h<o.length;h++)i=o[h],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(p)},r=self["webpackChunkpathfinding_demo"]=self["webpackChunkpathfinding_demo"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8348)}));r=n.O(r)})();
//# sourceMappingURL=app.a1fbf0c0.js.map